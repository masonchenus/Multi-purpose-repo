<!DOCTYPE html>
<html>
<head>
    <meta charset = "UTF-8">
    <meta name = "viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent Root</title>
    <canvas id = "ResourceCanvas" width = 1920 height = 1080></canvas>
</head>
<body>
    <script src = "./js/main.js"></script>
    <script>
        // server.js
            import express from "express";
            import fetch from "node-fetch";

            const app = express();
            app.use(express.json());

            // Put your API keys in environment variables
            let API_KEYS = {
                openai: process.env.OPENAI_API_KEY,
                anthropic: process.env.ANTHROPIC_API_KEY,
                google: process.env.GOOGLE_API_KEY,
                grok: process.env.GROK_API_KEY
            };

            // Universal agent call
            async function callAI(provider, model, message) {
                switch (provider.toLowerCase()) {
                    case "openai":
                        return await callOpenAI(model, message);
                    case "anthropic":
                        return await callAnthropic(model, message);
                    case "google":
                        return await callGoogle(model, message);
                    case "grok":
                        return await callGrok(model, message);
                    default:
                        throw new Error("Provider not supported");
                }
            }

            // OpenAI example
            async function callOpenAI(model, message) {
                const res = await fetch("https://api.openai.com/v1/chat/completions", {
                    method: "POST",
                    headers: {
                        "Authorization": `Bearer ${API_KEYS.openai}`,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        model: model,
                        messages: [{ role: "user", content: message }]
                    })
                });
                const data = await res.json();
                return data.choices[0].message.content;
            }

            // Add similar functions for Anthropic, Google Gemini, Grok...
            async function callAnthropic(model, message) {
                const res = await fetch("https://api.anthropic.com/v1/complete", {
                    method: "POST",
                    headers: {
                        "x-api-key": API_KEYS.anthropic,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        model: model,
                        prompt: message,
                        max_tokens_to_sample: 500
                    })
                });
                const data = await res.json();
                return data.completion;
            }

            app.post("/chat", async (req, res) => {
                try {
                    const { provider, model, message } = req.body;
                    const reply = await
                    callAI(provider, model, message);
                    res.json({ reply });
                } catch (error) {
                    console.error(error);
                    res.status(500).json({ error: "Internal Server Error" });
                }
            });

            app.listen(3000, () => {
                console.log("Server started on port 3000");
            });
    </script>
</body>